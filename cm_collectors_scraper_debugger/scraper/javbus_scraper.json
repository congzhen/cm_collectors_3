{
  "name": "javbus_scraper",
  "cache_enabled": true,
  "proxy": {
    "enabled": false,
    "protocol": "http",
    "host": "127.0.0.1",
    "port": 8080
  },
  "file_patterns": ["([A-Z0-9]+-[0-9]+)", "([a-z0-9]+-[0-9]+)"],
  "headers": {
    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36",
    "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7",
    "Accept-Language": "zh-CN,zh;q=0.9,en;q=0.8",
    "Accept-Encoding": "gzip, deflate, br",
    "Connection": "keep-alive",
    "Upgrade-Insecure-Requests": "1",
    "Sec-Ch-Ua": "\"Chromium\";v=\"118\", \"Google Chrome\";v=\"118\", \"Not=A?Brand\";v=\"99\"",
    "Sec-Ch-Ua-Mobile": "?0",
    "Sec-Ch-Ua-Platform": "\"Windows\"",
    "Sec-Fetch-Dest": "document",
    "Sec-Fetch-Mode": "navigate",
    "Sec-Fetch-Site": "none",
    "Sec-Fetch-User": "?1",
    "Cache-Control": "max-age=0",
    "Referer": "https://www.busfan.cyou/"
  },
  "sites": [
    {
      "name": "javbus_detail",
      "url": "https://www.busfan.cyou/{id}",
      "priority": 2,
      "selectors": {
        "id": {
          "selector": ".info p:contains('識別碼:') span:last-child",
          "type": "text"
        },
        "title": {
          "selector": "h3",
          "type": "text"
        },
        "description": {
          "selector": "meta[name='description']",
          "type": "attribute",
          "attribute": "content"
        },
        "premiered": {
          "selector": ".info p:contains('發行日期:')",
          "type": "text"
        },
        "tags": {
          "selector": ".genre label a",
          "type": "array"
        },
        "actors": {
          "selector": "#avatar-waterfall .avatar-box span",
          "type": "array"
        },
        "director": {
          "selector": ".info p:contains('導演:') a",
          "type": "text"
        },
        "cover": {
          "selector": ".screencap img",
          "type": "attribute",
          "attribute": "src",
          "fallback_attributes": ["data-src", "href"],
          "post_process": {
            "type": "filename"
          }
        },
        "cover_url": {
          "selector": ".screencap img",
          "type": "attribute",
          "attribute": "src",
          "fallback_attributes": ["data-src", "href"],
          "post_process": {
            "type": "absolute_url"
          }
        },
        "runtime": {
          "selector": ".info p:contains('長度:')",
          "type": "text",
          "post_process": {
            "type": "regexp",
            "pattern": "([0-9]+)"
          }
        },
        "rating": {
          "selector": "",
          "type": "text"
        },
        "sample": {
          "selector": "#sample-waterfall .sample-box",
          "type": "array",
          "attribute": "href",
          "fallback_attributes": ["data-src", "href"],
          "post_process": {
            "type": "absolute_url"
          }
        }
      },
      "post_processors": {
        "premiered": {
          "type": "regexp",
          "pattern": "([0-9]{4}-[0-9]{2}-[0-9]{2})"
        },
        "runtime": {
          "type": "regexp",
          "pattern": "([0-9]+)分鐘"
        }
      }
    }
  ]
}
